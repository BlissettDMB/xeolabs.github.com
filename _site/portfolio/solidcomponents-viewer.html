<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>SolidComponents™ WebGL-Based 3D CAD Viewer &#8211; xeolabs</title>
<meta name="description" content="<b>SolidComponents™</b> provides an online 3D catalog that allows buyers to preview product designs published directly from SolidWorks.<br><br>I worked remotely with engineers in Halmstad, Sweden to develop their WebGL-based CAD viewer on <b>xeogl</b>, an open source library I created for 3D visualization in the browser.">
<meta name="keywords" content="webgl, SolidWorks, CAD, xeogl">
<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/">
<meta name="twitter:title" content="SolidComponents™ WebGL-Based 3D CAD Viewer">
<meta name="twitter:description" content="<b>SolidComponents™</b> provides an online 3D catalog that allows buyers to preview product designs published directly from SolidWorks.<br><br>I worked remotely with engineers in Halmstad, Sweden to develop their WebGL-based CAD viewer on <b>xeogl</b>, an open source library I created for 3D visualization in the browser.">
<meta name="twitter:creator" content="@xeographics">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="SolidComponents™ WebGL-Based 3D CAD Viewer">
<meta property="og:description" content="<b>SolidComponents™</b> provides an online 3D catalog that allows buyers to preview product designs published directly from SolidWorks.<br><br>I worked remotely with engineers in Halmstad, Sweden to develop their WebGL-based CAD viewer on <b>xeogl</b>, an open source library I created for 3D visualization in the browser.">
<meta property="og:url" content="/portfolio/solidcomponents-viewer">
<meta property="og:site_name" content="xeolabs">





<link rel="canonical" href="/portfolio/solidcomponents-viewer">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="xeolabs Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700|PT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>
<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.min.css">

<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" href="/assets/css/ie.min.css">
<![endif]-->

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon-32x32.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="article" itemscope itemtype="http://schema.org/WebPage">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">xeolabs</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement">
		    <ul>
		        
				<li><a href="/index" >Home</a></li>
		        
				<li><a href="/articles" >Articles</a></li>
		        
				<li><a href="/portfolio" >Portfolio</a></li>
		        
				<li><a href="http://linkedin.com/in/lindsaystanleykay" target="_blank">Resume</a></li>
		        
				<li><a href="/index" >Contact</a></li>
		        
				<li><a href="http://xeogl.org" target="_blank">xeogl</a></li>
		        

		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main" itemprop="mainContentOfPage" itemscope itemtype="http://schema.org/Blog">
  <div class="article-author-top">
    <img src="/images/avatar.jpg" class="bio-photo" alt="xeolabs bio photo"></a>
<h3><a href="/about/">xeolabs</a></h3>
<p><b>Lindsay Kay</b><br><br><i>3D software engineer / WebGL developer</i></p>
<a href="http://twitter.com/xeographics" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="http://linkedin.com/in/lindsaystanleykay" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>
<a href="http://github.com/xeolabs" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>
<br>
<hr>
<p style="text-align: center;"><a href="/pdfs/OpenGLInsights.pdf"><img style="text-align: center;" src="/images/scenejs/OpenGLInsights2.jpg"></a><br>
    <i>My chapter on <a href="http://scenejs.org">SceneJS</a> for OpenGL Insights is now free to download! <a href="/pdfs/OpenGLInsights.pdf">Grab it here.</a></i></p>
<hr>

  </div>
  <article itemscope itemtype="http://schema.org/BlogPosting" itemprop="blogPost">
    <div class="headline-wrap">
      <h1 itemprop="name">SolidComponents™ WebGL-Based 3D CAD Viewer</h1>
        <p style="font-weight:bold; font-style:italic;"><time datetime="2018-02-27T00:00:00+00:00" itemprop="datePublished">February 27, 2018</time></p>
    </div><!--/ .headline-wrap -->
    <div class="article-wrap" itemprop="text">
      <h1 id="the-client">The Client</h1>

<p>Read about how component suppliers improve sales by taking advantage of SolidComponentstm digital product catalogues with CAD-support.</p>

<h1 id="requirements">Requirements</h1>

<p>Interactively view 3D models exported from SolidWworks</p>

<p>Viewer seamlessly integrated into SolidComponents web page</p>

<p>Allow to distribute with SSolidWorks integration software - a JavaSCript library called “SolidComponents Toolbox”, that 
customers use to integrate SolidWork’s CAD support into their own web pages.</p>

<p>The client had already made several viewers for STL and OBJ files using THREE and other WebGL libraries, but had 
experienced difficulty controlling the way that smooth shading was applied across the surfaces of meshes</p>

<ul>
  <li>Needed  smooth shading, but not smooth across hard edges</li>
  <li>
    <p>Auto conversion of face-aligned normals to vertex aligned was not an option</p>
  </li>
  <li>I solved with a custom smoothing algorithm (TODO)</li>
  <li>Requirement: view models exported from SolidWorks</li>
</ul>

<h1 id="first-attempt--stl-files">First Attempt:  STL files</h1>

<ul>
  <li>First attempt by importing STL using this shading algorithm</li>
  <li>
    <p>Smoothing algorithm:<br />
Triangles in STL are disjoint, where each triangle has its own separate vertex positions, normals and (optionally) colors. 
This means that you can have gaps between triangles. Normals for each triangle are perpendicular to the triangle’s surface, 
which gives the model a faceted appearance by default. The smoothNormals flag causes the STLModel to recalculate its normals, 
so that each normal’s direction is the average of the orientations of the triangles adjacent to its vertex. When smoothing, 
each vertex normal is set to the average of the orientations of all other triangles that have a vertex at the same position, 
excluding those triangles whose direction deviates from the direction of the vertice’s triangle by a threshold given in 
smoothNormalsAngleThreshold. This makes smoothing robust for hard edges.</p>
  </li>
  <li>Differentiate objects on vertex colors</li>
  <li>STL materials were not expressive enough</li>
  <li>Not possible to preserve colors as modeled in  SolidWworks</li>
  <li>STLModel them open sourced as part of xeogl extras</li>
</ul>

<h1 id="obj">OBJ</h1>

<ul>
  <li>not expressive enough</li>
</ul>

<h1 id="gltf">glTF</h1>

<ul>
  <li>export plugin available from SIMLab, but not core part of SolidWworks, so not enough control.</li>
</ul>

<h1 id="second-attempt-loading-3dxml">Second attempt: loading 3DXML</h1>

<ul>
  <li>3DXML is native SolidWworks format</li>
  <li>Built a custom component that extends the xeogl native xeogl.Model component to parse 3DXML 4.2 &amp; 4.3 schema</li>
  <li>Smothing with hard edges supported in 3DXML,  where hard edges lie between  separate meshes with smooth per-vertex normals</li>
  <li>Edges and Wireframe representations required</li>
  <li>Solidworks 2017 export had an edges representation bundled with models</li>
  <li>SolidWorks 2010 export had no edges representation</li>
  <li>xeogl has baked-in solution, automatically generating wireframe views using ghost and highlight materials</li>
  <li>xeogl  CameraControl has all required interaction</li>
</ul>

<section id="table-of-contents" class="toc">
  <header>
    <h3>Contents</h3>
  </header>
<div id="drawer">
<ul id="markdown-toc">
  <li><a href="#the-client" id="markdown-toc-the-client">The Client</a></li>
  <li><a href="#requirements" id="markdown-toc-requirements">Requirements</a></li>
  <li><a href="#first-attempt--stl-files" id="markdown-toc-first-attempt--stl-files">First Attempt:  STL files</a></li>
  <li><a href="#obj" id="markdown-toc-obj">OBJ</a></li>
  <li><a href="#gltf" id="markdown-toc-gltf">glTF</a></li>
  <li><a href="#second-attempt-loading-3dxml" id="markdown-toc-second-attempt-loading-3dxml">Second attempt: loading 3DXML</a></li>
</ul>

  </div>
</section>
<!-- /#table-of-contents -->


      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          <img src="/images/avatar.jpg" class="bio-photo" alt="xeolabs bio photo"></a>
<h3><a href="/about/">xeolabs</a></h3>
<p><b>Lindsay Kay</b><br><br><i>3D software engineer / WebGL developer</i></p>
<a href="http://twitter.com/xeographics" class="author-social" target="_blank"><i class="icon-twitter"></i> Twitter</a>
<a href="http://linkedin.com/in/lindsaystanleykay" class="author-social" target="_blank"><i class="icon-linkedin"></i> LinkedIn</a>
<a href="http://github.com/xeolabs" class="author-social" target="_blank"><i class="icon-github"></i> Github</a>
<br>
<hr>
<p style="text-align: center;"><a href="/pdfs/OpenGLInsights.pdf"><img style="text-align: center;" src="/images/scenejs/OpenGLInsights2.jpg"></a><br>
    <i>My chapter on <a href="http://scenejs.org">SceneJS</a> for OpenGL Insights is now free to download! <a href="/pdfs/OpenGLInsights.pdf">Grab it here.</a></i></p>
<hr>

        </div>
        <p class="byline"><strong>SolidComponents™ WebGL-Based 3D CAD Viewer</strong> was published on <time datetime="2018-02-27T00:00:00+00:00" itemprop="datePublished">February 27, 2018</time> and last modified on <time datetime="2017-07-01" itemprop="dateModified">July 01, 2017</time> by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name"><a href="/about" title="About xeolabs" itemprop="url">xeolabs</a></span></span>.</p>
      </footer>

        <!---->
        <!--<br><br>-->
        <!--<div id="disqus_thread"></div>-->
        <!--<script type="text/javascript">-->
            <!--/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */-->
            <!--var disqus_shortname = 'xeographics'; // required: replace example with your forum shortname-->

            <!--/* * * DON'T EDIT BELOW THIS LINE * * */-->
            <!--(function() {-->
                <!--var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;-->
                <!--dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';-->
                <!--(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);-->
            <!--})();-->
        <!--</script>-->
        <!--<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>-->
        <!--<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>-->
        <!---->
    </div><!-- /.article-wrap -->
  </article>

</div><!-- /#main -->


<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/articles">View all articles</a>)</small></h4>
    <ul>
    
      
      
      
      <li><a href="/portfolio/biodigital-human" title="The BioDigital Human™">The BioDigital Human™</a></li>
      
    
      
      
      
      <li><a href="/portfolio/xeogl" title="xeogl - a 3D library for WebGL-based ArchViz & CAD">xeogl - a 3D library for WebGL-based ArchViz & CAD</a></li>
      
    
      
      
      
      <li><a href="/portfolio/scenejs" title="SceneJS - a 3D library for WebGL-based MedViz">SceneJS - a 3D library for WebGL-based MedViz</a></li>
      
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    <span>&copy; 2018 xeolabs. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
<!--<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>-->
<!--<script src="/assets/js/scripts.min.js"></script>-->



</body>
</html>
